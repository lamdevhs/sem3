-- TP2

-- -- 1))
-- Avion
-- sigma capacite < 350 (Avion)
-- pi avnum, avnom (sigma localisation = 'Nice' (Avion))
-- Pilote
-- sigma ville = 'Paris' and salaire > 3000 (Pilote)
-- pi volnum, heuredep (sigma villedep = 'Paris' and villearr = 'Toulouse' (Vol))

-- X = (Pilote) ⨝ Pilote.plnum = Vol.plnum (Vol)
-- pi Pilote.plnum, villedep (X)



-- -- 2)
AA = sigma localisation = 'Nice' (Avion)
AAA = sigma capacite < 350 (Avion)
AAAA = (AA) ∩ (AAA)
A = pi avnum, avnom (AAAA)
B1 = sigma villedep = 'Nice' (Vol)
B2 = sigma villearr = 'Paris' (Vol)
B3 = sigma heuredep > 10 (Vol)
B = B1 ∩ B2 ∩ B3
CC = pi plnum (Pilote)
C = (CC) - (pi plnum (Pilote))
D1 = sigma plnum = 8 (Vol)
D2 = sigma plnum = 9 (Vol)
D3 = (pi volnum, villedep (D1)) ∩ (pi volnum, villedep (D2)) 


DD = sigma plnum = 8 or plnum = 9 (Pilote)
DDD = (DD) ⨝ Pilote.plnum = Vol.plnum (Vol)
D = pi volnum, villedep DDD
D


-- 3)
PV = (Pilote) ⨝ Pilote.plnum = Vol.plnum (Vol)
AV = (Vol) ⨝ Vol.avnum = Avion.avnum (Avion)
AVP = (Pilote) ⨝ Vol.plnum = Pilote.plnum (AV)

AA = sigma villedep = 'Toulouse' and Pilote.ville = 'Toulouse' (PV)
A = pi volnum AA

BB = sigma localisation ≠ 'Nice' (AV)
B = pi Avion.avnum (BB)

CC = sigma villedep = 'Nice' or capacite > 250 (AVP)
C = pi Pilote.plnum, Pilote.plnom (CC)


DD = sigma Pilote.ville = 'Paris' and villedep = 'Nice' and Avion.avnom like 'A%' (AVP)
D = pi Pilote.plnom (DD)

EE = sigma Pilote.ville = 'Nice' and Avion.localisation = 'Paris' and (villedep = 'Nice' or villearr = 'Nice') (AVP)
E = pi Vol.volnum (EE)

-- il n'y a aucun pilote du nom de Dupont dans Pilote... mais s'il existait voici ce que je ferais:
Dupont = sigma plnom = 'Dupont' (Pilote)
DupontCity = rho dupontVille <- ville (pi ville (Dupont))
FF = (DupontCity) ⨝ ville = dupontVille (Pilote)
F = pi plnum, plnom FF

-- pas non plus de pilotes Durand :P
NumPilotesEnService = pi plnum (Vol)
NumPiloteDurand = pi plnum (sigma plnom = 'Durand' (Pilote))
G = NumPilotesEnService - NumPiloteDurand


HHH = sigma villedep = 'Paris' (Vol)
HH = rho vvv <- villearr (HHH)
H4 = (pi villearr (Vol)) ⨝ vvv = villearr (pi vvv (HH))
H = pi villearr (H4)


